/* Spinner component â€“ loading indicator with semantic tone variants. */

:is(.ch-spinner, [data-ch-component="spinner"]) {
  --ch-spinner-diameter: var(--ch-icon-size-md, 1.5rem);
  --ch-spinner-stroke-width: 2;
  --ch-spinner-color: var(--ch-tone-primary-fg, currentColor);
  --ch-spinner-animation-duration: 1s;
  --ch-spinner-animation-timing: linear;

  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: var(--ch-spinner-diameter);
  height: var(--ch-spinner-diameter);
  color: var(--ch-spinner-color);
  flex-shrink: 0;
}

:is(.ch-spinner, [data-ch-component="spinner"]) .ch-spinner__icon {
  width: 100%;
  height: 100%;
  display: block;
  animation:
    ch-spinner-rotate var(--ch-spinner-animation-duration) var(--ch-spinner-animation-timing) infinite;
}

:is(.ch-spinner, [data-ch-component="spinner"]) .ch-spinner__label {
  display: none;
}

/* Size variants */
:is(.ch-spinner, [data-ch-component="spinner"]).ch-spinner--sm {
  --ch-spinner-diameter: var(--ch-icon-size-sm, 1rem);
}

:is(.ch-spinner, [data-ch-component="spinner"]).ch-spinner--md {
  --ch-spinner-diameter: var(--ch-icon-size-md, 1.5rem);
}

:is(.ch-spinner, [data-ch-component="spinner"]).ch-spinner--lg {
  --ch-spinner-diameter: var(--ch-icon-size-lg, 2rem);
}

/* Tone variants */
:is(.ch-spinner, [data-ch-component="spinner"]).ch-spinner--primary {
  --ch-spinner-color: var(--ch-tone-primary-fg, currentColor);
}

:is(.ch-spinner, [data-ch-component="spinner"]).ch-spinner--secondary {
  --ch-spinner-color: var(--ch-tone-secondary-fg, var(--ch-tone-primary-fg, currentColor));
}

:is(.ch-spinner, [data-ch-component="spinner"]).ch-spinner--success {
  --ch-spinner-color: var(--ch-tone-success-fg, var(--ch-tone-primary-fg, currentColor));
}

:is(.ch-spinner, [data-ch-component="spinner"]).ch-spinner--warning {
  --ch-spinner-color: var(--ch-tone-warning-fg, var(--ch-tone-primary-fg, currentColor));
}

:is(.ch-spinner, [data-ch-component="spinner"]).ch-spinner--danger {
  --ch-spinner-color: var(--ch-tone-danger-fg, var(--ch-tone-primary-fg, currentColor));
}

:is(.ch-spinner, [data-ch-component="spinner"]).ch-spinner--info {
  --ch-spinner-color: var(--ch-tone-info-fg, var(--ch-tone-primary-fg, currentColor));
}

/* Paused state */
:is(.ch-spinner, [data-ch-component="spinner"])[data-ch-paused="true"] .ch-spinner__icon {
  animation-play-state: paused;
}

/* Forced colors mode */
@media (forced-colors: active) {
  :is(.ch-spinner, [data-ch-component="spinner"]) {
    --ch-spinner-color: CanvasText;
    forced-color-adjust: none;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  :is(.ch-spinner, [data-ch-component="spinner"]) .ch-spinner__icon {
    animation-duration: 2s;
    animation-timing-function: steps(60, end);
  }
}

/* Animation keyframe */
@keyframes ch-spinner-rotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
